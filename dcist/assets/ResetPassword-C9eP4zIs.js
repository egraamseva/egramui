import{a as P,u as g,h as j,r as n,j as s,C as v,d as N,B as m,e as C,f as b,b as y,t as r,z as L}from"./index-B5GP4ZU0.js";import{I as w}from"./input-C4RtHFee.js";import{L as u}from"./label-k4a1c30R.js";import{A as S}from"./arrow-left-DiVvMP4j.js";import{L as k}from"./lock-D7-TLejr.js";function I(){const{t:e}=P(),i=g(),[h]=j(),d=h.get("token"),[a,f]=n.useState(""),[o,p]=n.useState(""),[l,c]=n.useState(!1),x=async t=>{if(t.preventDefault(),!a||!o){r.error(e("validation.fillAllFields"));return}if(a!==o){r.error(e("resetPassword.passwordsDoNotMatch"));return}if(a.length<8){r.error(e("validation.passwordMinLength"));return}if(!d){r.error(e("resetPassword.invalidToken"));return}c(!0);try{await L.resetPassword({token:d,password:a}),r.success(e("resetPassword.passwordResetSuccess")),i("/login")}catch{r.error(e("notifications.error"))}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F5F5F5] px-4",children:s.jsxs(v,{className:"w-full max-w-md",children:[s.jsxs(N,{children:[s.jsxs(m,{variant:"ghost",size:"sm",onClick:()=>i("/login"),className:"mb-4",children:[s.jsx(S,{className:"h-4 w-4 mr-2"}),e("forgotPassword.backToLogin")]}),s.jsx(C,{className:"text-2xl",children:e("resetPassword.title")}),s.jsx(b,{children:e("resetPassword.subtitle")})]}),s.jsx(y,{children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(u,{htmlFor:"password",children:e("resetPassword.newPassword")}),s.jsx(w,{id:"password",type:"password",placeholder:e("resetPassword.newPassword"),value:a,onChange:t=>f(t.target.value),required:!0,minLength:8})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(u,{htmlFor:"confirmPassword",children:e("resetPassword.confirmPassword")}),s.jsx(w,{id:"confirmPassword",type:"password",placeholder:e("resetPassword.confirmPassword"),value:o,onChange:t=>p(t.target.value),required:!0,minLength:8})]}),s.jsxs(m,{type:"submit",className:"w-full",disabled:l,children:[s.jsx(k,{className:"h-4 w-4 mr-2"}),e(l?"resetPassword.resetting":"resetPassword.resetButton")]})]})})]})})}export{I as ResetPassword};
