import{c as ze,j as e,r as i,Y as ue,Z as Me,_ as ge,$ as Be,a0 as We,a1 as qe,a2 as Ge,a3 as He,a4 as Ve,a5 as pe,a6 as Ye,a7 as Ze,a8 as Xe,R as v,a9 as xe,W as E,t as c,V as R,B as d,C as H,b as V,X as Y,x as Je}from"./index-B5GP4ZU0.js";import{I as oe}from"./input-C4RtHFee.js";import{L as g}from"./label-k4a1c30R.js";import{T as Ke}from"./textarea-DqFXOEs1.js";import{D as Z,a as X,b as J,c as K,d as Q,e as ee}from"./dialog-D8fBtqfZ.js";import{B as Qe}from"./badge-ALW9Fyqs.js";import{f as es}from"./format-MGXwiYcE.js";import{I as he}from"./ImageWithFallback-CPTj3iC7.js";import{I as ss}from"./image-modal-c-Ha-HLI.js";import{A as as}from"./arrow-left-DiVvMP4j.js";import{U as T}from"./upload-wi-AKsz6.js";import{I as P}from"./image-hr9zOed5.js";import{S as ne,T as ce}from"./trash-2-Dvt3QX8d.js";import{C as ts}from"./check-BfJ-MShT.js";import{P as de}from"./plus-BdOJHdON.js";const ls=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],rs=ze("folder",ls);var is=Symbol("radix.slottable");function os(a){const t=({children:o})=>e.jsx(e.Fragment,{children:o});return t.displayName=`${a}.Slottable`,t.__radixId=is,t}var fe="AlertDialog",[ns]=We(fe,[ue]),h=ue(),ve=a=>{const{__scopeAlertDialog:t,...o}=a,l=h(t);return e.jsx(Me,{...l,...o,modal:!0})};ve.displayName=fe;var cs="AlertDialogTrigger",ds=i.forwardRef((a,t)=>{const{__scopeAlertDialog:o,...l}=a,n=h(o);return e.jsx(Xe,{...n,...l,ref:t})});ds.displayName=cs;var ms="AlertDialogPortal",je=a=>{const{__scopeAlertDialog:t,...o}=a,l=h(t);return e.jsx(Ye,{...l,...o})};je.displayName=ms;var us="AlertDialogOverlay",Ne=i.forwardRef((a,t)=>{const{__scopeAlertDialog:o,...l}=a,n=h(o);return e.jsx(Ze,{...n,...l,ref:t})});Ne.displayName=us;var D="AlertDialogContent",[gs,ps]=ns(D),xs=os("AlertDialogContent"),be=i.forwardRef((a,t)=>{const{__scopeAlertDialog:o,children:l,...n}=a,u=h(o),j=i.useRef(null),U=ge(t,j),F=i.useRef(null);return e.jsx(Be,{contentName:D,titleName:ye,docsSlug:"alert-dialog",children:e.jsx(gs,{scope:o,cancelRef:F,children:e.jsxs(qe,{role:"alertdialog",...u,...n,ref:U,onOpenAutoFocus:Ge(n.onOpenAutoFocus,N=>{N.preventDefault(),F.current?.focus({preventScroll:!0})}),onPointerDownOutside:N=>N.preventDefault(),onInteractOutside:N=>N.preventDefault(),children:[e.jsx(xs,{children:l}),e.jsx(fs,{contentRef:j})]})})})});be.displayName=D;var ye="AlertDialogTitle",we=i.forwardRef((a,t)=>{const{__scopeAlertDialog:o,...l}=a,n=h(o);return e.jsx(He,{...n,...l,ref:t})});we.displayName=ye;var Ae="AlertDialogDescription",Ce=i.forwardRef((a,t)=>{const{__scopeAlertDialog:o,...l}=a,n=h(o);return e.jsx(Ve,{...n,...l,ref:t})});Ce.displayName=Ae;var hs="AlertDialogAction",Ie=i.forwardRef((a,t)=>{const{__scopeAlertDialog:o,...l}=a,n=h(o);return e.jsx(pe,{...n,...l,ref:t})});Ie.displayName=hs;var De="AlertDialogCancel",Fe=i.forwardRef((a,t)=>{const{__scopeAlertDialog:o,...l}=a,{cancelRef:n}=ps(De,o),u=h(o),j=ge(t,n);return e.jsx(pe,{...u,...l,ref:j})});Fe.displayName=De;var fs=({contentRef:a})=>{const t=`\`${D}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${D}\` by passing a \`${Ae}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${D}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,a]),null},vs=ve,js=je,Ns=Ne,bs=be,ys=Ie,ws=Fe,As=we,Cs=Ce;function Is({...a}){return e.jsx(vs,{"data-slot":"alert-dialog",...a})}function Ds({...a}){return e.jsx(js,{"data-slot":"alert-dialog-portal",...a})}function Fs({className:a,...t}){return e.jsx(Ns,{"data-slot":"alert-dialog-overlay",className:v("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function Ss({className:a,...t}){return e.jsxs(Ds,{children:[e.jsx(Fs,{}),e.jsx(bs,{"data-slot":"alert-dialog-content",className:v("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...t})]})}function Es({className:a,...t}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:v("flex flex-col gap-2 text-center sm:text-left",a),...t})}function Ps({className:a,...t}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:v("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...t})}function ks({className:a,...t}){return e.jsx(As,{"data-slot":"alert-dialog-title",className:v("text-lg font-semibold",a),...t})}function Os({className:a,...t}){return e.jsx(Cs,{"data-slot":"alert-dialog-description",className:v("text-muted-foreground text-sm",a),...t})}function _s({className:a,...t}){return e.jsx(ys,{className:v(xe(),a),...t})}function Rs({className:a,...t}){return e.jsx(ws,{className:v(xe({variant:"outline"}),a),...t})}function Ts({panchayatId:a}){const[t,o]=i.useState([]),[l,n]=i.useState(null),[u,j]=i.useState([]),[U,F]=i.useState(!0),[N,L]=i.useState(!1),[Se,S]=i.useState(!1),[Ee,k]=i.useState(!1),[b,$]=i.useState(null),[m,I]=i.useState({title:"",description:"",coverImage:""}),[p,y]=i.useState(null),[O,w]=i.useState(""),[x,z]=i.useState([]),[Pe,M]=i.useState(!1),[B,W]=i.useState(null),[ke,se]=i.useState(!1),[q,ae]=i.useState(0);i.useEffect(()=>{A()},[a]),i.useEffect(()=>{l&&G(l.id)},[l]);const A=async()=>{F(!0);try{const s=await E.list();o(s.items)}catch{c.error("Failed to load albums")}finally{F(!1)}},G=async s=>{try{const r=await R.list(s);j(r.items)}catch(r){console.error("Error fetching album images:",r),j([])}},Oe=async s=>{if(s?.preventDefault(),!m.title){c.error("Please enter album title");return}try{const r={title:m.title,description:m.description||void 0};p?r.coverImageFile=p:m.coverImage&&(r.coverImage=m.coverImage),await E.create(r),c.success("Album created successfully"),_(),A()}catch(r){c.error(r.message||"Failed to create album")}},_e=async s=>{if(s?.preventDefault(),!b||!m.title){c.error("Please enter album title");return}try{const r={title:m.title,description:m.description||void 0};p?r.coverImageFile=p:m.coverImage&&(r.coverImage=m.coverImage),await E.update(b.id,r),c.success("Album updated successfully"),_(),A(),l?.id===b.id&&n({...l,...m})}catch(r){c.error(r.message||"Failed to update album")}},Re=async()=>{if(B)try{await E.delete(B),c.success("Album deleted successfully"),M(!1),W(null),l?.id===B&&n(null),A()}catch{c.error("Failed to delete album")}},Te=async()=>{if(!l||x.length===0){c.error("Please select images to upload");return}try{const s=x.map(r=>R.create({imageUrl:"",albumId:Number(l.id),imageFile:r}));await Promise.all(s),c.success(`${x.length} image(s) uploaded successfully`),S(!1),z([]),G(l.id),A()}catch(s){c.error(s.message||"Failed to upload images")}},Ue=async s=>{if(l&&confirm("Are you sure you want to remove this image from the album?"))try{await R.delete(s),c.success("Image removed successfully"),G(l.id),A()}catch{c.error("Failed to remove image")}},te=async s=>{if(l)try{await E.update(l.id,{coverImage:s}),c.success("Cover image updated successfully"),k(!1),A(),l&&n({...l,coverImage:s})}catch(r){c.error(r.message||"Failed to update cover image")}},le=s=>{$(s),I({title:s.title,description:s.description||"",coverImage:s.coverImage||""}),y(null),w(""),L(!0)},re=()=>{$(null),I({title:"",description:"",coverImage:""}),y(null),w(""),L(!0)},_=()=>{L(!1),$(null),I({title:"",description:"",coverImage:""}),y(null),w("")},ie=s=>{const r=s.target.files?.[0];if(!r)return;if(!r.type.startsWith("image/")){c.error("Please select a valid image file");return}y(r);const f=new FileReader;f.onload=C=>{w(C.target?.result)},f.readAsDataURL(r)},Le=s=>{const f=Array.from(s.target.files||[]).filter(C=>C.type.startsWith("image/"));if(f.length===0){c.error("Please select valid image files");return}z(C=>[...C,...f])},$e=s=>{z(r=>r.filter((f,C)=>C!==s))};return U?e.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#FF9933] mx-auto"}),e.jsx("p",{className:"mt-4 text-sm sm:text-base text-[#666]",children:"Loading albums..."})]})}):l?e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[e.jsxs(d,{variant:"ghost",onClick:()=>n(null),className:"w-full sm:w-auto",children:[e.jsx(as,{className:"h-4 w-4 mr-2"}),"Back to Albums"]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-[#1B2B5E] truncate",children:l.title}),l.description&&e.jsx("p",{className:"text-sm sm:text-base text-[#666] mt-1 line-clamp-2",children:l.description})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[e.jsxs(d,{variant:"outline",onClick:()=>S(!0),className:"flex-1 sm:flex-none",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Upload Images"}),e.jsx("span",{className:"sm:hidden",children:"Upload"})]}),e.jsxs(d,{variant:"outline",onClick:()=>k(!0),className:"flex-1 sm:flex-none",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Change Cover"}),e.jsx("span",{className:"sm:hidden",children:"Cover"})]}),e.jsxs(d,{variant:"outline",onClick:()=>le(l),className:"flex-1 sm:flex-none",children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),u.length===0?e.jsx(H,{children:e.jsxs(V,{className:"flex flex-col items-center justify-center py-8 sm:py-12",children:[e.jsx(P,{className:"h-12 w-12 sm:h-16 sm:w-16 text-[#666] mb-4"}),e.jsx("p",{className:"text-[#666] text-base sm:text-lg",children:"No images in this album"}),e.jsx("p",{className:"text-[#666] text-xs sm:text-sm mt-2",children:"Upload images to get started"}),e.jsxs(d,{className:"mt-4",onClick:()=>S(!0),children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",children:u.map((s,r)=>e.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-lg border bg-muted cursor-pointer",onClick:()=>{ae(r),se(!0)},children:[e.jsx("div",{className:"w-full h-full pointer-events-none",children:e.jsx(me,{src:s.image,alt:s.title||"Album image"})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center gap-2 bg-black/50 opacity-0 transition-opacity group-hover:opacity-100 z-10 pointer-events-none",children:e.jsx(d,{variant:"secondary",size:"icon",className:"h-7 w-7 sm:h-8 sm:w-8 pointer-events-auto",onClick:f=>{f.stopPropagation(),Ue(s.id)},children:e.jsx(ce,{className:"h-3 w-3 sm:h-4 sm:w-4"})})}),s.title&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white text-xs p-2 truncate z-10 pointer-events-none",children:s.title})]},s.id))}),e.jsx(Z,{open:Se,onOpenChange:S,children:e.jsxs(X,{className:"p-4 sm:p-6",children:[e.jsxs(J,{children:[e.jsx(K,{children:"Upload Images to Album"}),e.jsxs(Q,{children:['Select one or more images to upload to "',l.title,'"']})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"imageFiles",children:"Select Images"}),e.jsx("input",{id:"imageFiles",type:"file",accept:"image/*",multiple:!0,onChange:Le,className:"hidden"}),e.jsxs(g,{htmlFor:"imageFiles",className:"flex items-center justify-center w-full px-3 py-2 border border-dashed border-input rounded-md cursor-pointer hover:bg-muted transition-colors",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Click to select images"]})]}),x.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(g,{children:["Selected Images (",x.length,")"]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:x.map((s,r)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:URL.createObjectURL(s),alt:s.name,className:"w-full h-20 object-cover rounded border"}),e.jsx(d,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6 opacity-0 group-hover:opacity-100",onClick:()=>$e(r),children:e.jsx(Y,{className:"h-3 w-3"})})]},r))})]})]}),e.jsxs(ee,{children:[e.jsx(d,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),e.jsxs(d,{onClick:Te,disabled:x.length===0,children:["Upload ",x.length>0?`${x.length} `:"","Image(s)"]})]})]})}),e.jsx(Z,{open:Ee,onOpenChange:k,children:e.jsxs(X,{className:"p-4 sm:p-6",children:[e.jsxs(J,{children:[e.jsx(K,{children:"Change Cover Image"}),e.jsx(Q,{children:"Select an image from the album or upload a new one"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[u.length>0&&e.jsxs("div",{children:[e.jsx(g,{children:"Select from Album Images"}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 mt-2 max-h-48 overflow-y-auto",children:u.map(s=>e.jsx("button",{type:"button",onClick:()=>te(s.image||""),className:"relative aspect-square overflow-hidden rounded border-2 border-transparent hover:border-[#FF9933] transition-colors",children:e.jsx(me,{src:s.image,alt:s.title||"Album image"})},s.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Or Upload New Cover Image"}),e.jsx("input",{id:"newCoverImage",type:"file",accept:"image/*",onChange:ie,className:"hidden"}),e.jsxs(g,{htmlFor:"newCoverImage",className:"flex items-center justify-center w-full px-3 py-2 border border-dashed border-input rounded-md cursor-pointer hover:bg-muted transition-colors",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Upload New Cover Image"]}),O&&e.jsxs("div",{className:"relative w-full h-40 rounded-md overflow-hidden bg-muted",children:[e.jsx("img",{src:O,alt:"Preview",className:"w-full h-full object-cover"}),e.jsx(d,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>{y(null),w("")},children:e.jsx(Y,{className:"h-4 w-4"})}),e.jsxs(d,{type:"button",className:"absolute bottom-2 left-2",onClick:async()=>{if(p&&l)try{const s=await R.create({imageUrl:"",albumId:Number(l.id),imageFile:p});await te(s.image||""),y(null),w("")}catch(s){c.error(s.message||"Failed to upload cover image")}},children:[e.jsx(ts,{className:"h-4 w-4 mr-2"}),"Use This"]})]})]})]}),e.jsx(ee,{children:e.jsx(d,{variant:"outline",onClick:()=>k(!1),children:"Cancel"})})]})}),u.length>0&&e.jsx(ss,{isOpen:ke,onClose:()=>se(!1),imageUrl:u[q]?.image||"",alt:u[q]?.title||"Album image",images:u.map(s=>s.image||"").filter(Boolean),currentIndex:q,onIndexChange:ae})]}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-[#1B2B5E]",children:"Gallery Albums"}),e.jsx("p",{className:"text-sm sm:text-base text-[#666] mt-1",children:"Organize your gallery images into albums"})]}),e.jsxs(d,{onClick:re,className:"w-full sm:w-auto",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Create Album"]})]}),t.length===0?e.jsx(H,{children:e.jsxs(V,{className:"flex flex-col items-center justify-center py-8 sm:py-12",children:[e.jsx(rs,{className:"h-12 w-12 sm:h-16 sm:w-16 text-[#666] mb-4"}),e.jsx("p",{className:"text-[#666] text-base sm:text-lg",children:"No albums yet"}),e.jsx("p",{className:"text-[#666] text-xs sm:text-sm mt-2",children:"Create your first album to organize images"}),e.jsxs(d,{className:"mt-4",onClick:re,children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Create Album"]})]})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:t.map(s=>e.jsxs(H,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>n(s),children:[e.jsxs("div",{className:"relative h-48 bg-[#F5F5F5]",children:[s.coverImage?e.jsx(Us,{src:s.coverImage,alt:s.title}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(P,{className:"h-16 w-16 text-[#666]"})}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 sm:gap-2",onClick:r=>{r.stopPropagation()},children:[e.jsx(d,{variant:"secondary",size:"icon",className:"h-7 w-7 sm:h-8 sm:w-8",onClick:()=>le(s),children:e.jsx(ne,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),e.jsx(d,{variant:"destructive",size:"icon",className:"h-7 w-7 sm:h-8 sm:w-8",onClick:()=>{W(s.id),M(!0)},children:e.jsx(ce,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]}),e.jsxs(V,{className:"p-3 sm:p-4",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-1 truncate",children:s.title}),s.description&&e.jsx("p",{className:"text-xs sm:text-sm text-[#666] mb-2 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs(Qe,{variant:"outline",className:"text-xs",children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),s.imageCount," images"]}),e.jsx("span",{className:"text-xs text-[#666] whitespace-nowrap",children:es(s.createdAt)})]})]})]},s.id))}),e.jsx(Z,{open:N,onOpenChange:_,children:e.jsxs(X,{className:"p-4 sm:p-6",children:[e.jsxs(J,{children:[e.jsx(K,{children:b?"Edit Album":"Create Album"}),e.jsx(Q,{children:b?"Update album details":"Create a new album to organize images"})]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),b?_e(s):Oe(s)},className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"title",children:"Title *"}),e.jsx(oe,{id:"title",placeholder:"Enter album title",value:m.title,onChange:s=>I({...m,title:s.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"description",children:"Description"}),e.jsx(Ke,{id:"description",placeholder:"Enter album description",value:m.description,onChange:s=>I({...m,description:s.target.value}),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"coverImage",children:"Cover Image URL or File"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(oe,{id:"coverImage",placeholder:"Enter image URL (or upload file below)",value:m.coverImage,onChange:s=>I({...m,coverImage:s.target.value}),disabled:!!p}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"coverImageFile",type:"file",accept:"image/*",onChange:ie,className:"hidden"}),e.jsx(g,{htmlFor:"coverImageFile",className:"flex items-center justify-center w-full px-3 py-2 border border-dashed border-input rounded-md cursor-pointer hover:bg-muted transition-colors",children:p?`âœ“ ${p.name}`:"Click to upload cover image"})]}),O&&e.jsxs("div",{className:"relative w-full h-40 rounded-md overflow-hidden bg-muted",children:[e.jsx("img",{src:O,alt:"Preview",className:"w-full h-full object-cover"}),e.jsx(d,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>{y(null),w("")},children:e.jsx(Y,{className:"h-4 w-4"})})]})]})]}),e.jsxs(ee,{children:[e.jsx(d,{variant:"outline",type:"button",onClick:_,children:"Cancel"}),e.jsx(d,{type:"submit",children:b?"Update":"Create"})]})]})]})}),e.jsx(Is,{open:Pe,onOpenChange:M,children:e.jsxs(Ss,{children:[e.jsxs(Es,{children:[e.jsx(ks,{children:"Are you sure?"}),e.jsx(Os,{children:"This will permanently delete the album. Images in this album will not be deleted, but they will no longer be associated with this album."})]}),e.jsxs(Ps,{children:[e.jsx(Rs,{onClick:()=>W(null),children:"Cancel"}),e.jsx(_s,{onClick:Re,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})}function Us({src:a,alt:t}){return a?e.jsx(he,{src:a,alt:t,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:e.jsx(P,{className:"h-16 w-16 text-[#666]"})})}function me({src:a,alt:t}){return a?e.jsx(he,{src:a,alt:t,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:e.jsx("span",{className:"text-muted-foreground text-sm",children:"No image"})})}function Qs(){const{user:a}=Je();return a?.panchayatId?e.jsx(Ts,{panchayatId:a.panchayatId}):e.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#FF9933] mx-auto"}),e.jsx("p",{className:"mt-4 text-sm sm:text-base text-muted-foreground",children:"Loading..."})]})})}export{Qs as AlbumsPage};
